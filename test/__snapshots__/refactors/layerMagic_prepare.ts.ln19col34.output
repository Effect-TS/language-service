// Result of running refactor layerMagic at position 19:34
import { Effect, Layer, pipe } from "effect"

class DbConnection extends Effect.Service<DbConnection>()("DbConnection", {
  succeed: {}
}) {}
class FileSystem extends Effect.Service<FileSystem>()("FileSystem", {
  succeed: {}
}) {}
class Cache extends Effect.Service<Cache>()("Cache", {
  effect: Effect.as(FileSystem, {})
}) {}
class UserRepository extends Effect.Service<UserRepository>()("UserRepository", {
  effect: Effect.as(Effect.zipRight(DbConnection, Cache), {})
}) {}

export const prepareSimple = UserRepository.Default

export const prepareWithPipe =[UserRepository.Default, Cache.Default] as any as Layer.Layer<Cache | UserRepository>

export const prepareSomewhatComplex = pipe(
  UserRepository.Default,
  Layer.provideMerge(Cache.Default),
  Layer.merge(DbConnection.Default)
)
