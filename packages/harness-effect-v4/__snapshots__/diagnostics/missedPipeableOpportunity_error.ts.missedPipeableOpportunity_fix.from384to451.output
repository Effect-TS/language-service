// code fix missedPipeableOpportunity_fix  output for range 384 - 451
// @effect-diagnostics missedPipeableOpportunity:warning
// @test-config {"pipeableMinArgCount": 2}
import { Duration, Effect, identity, pipe, Schedule, Schema } from "effect"

const MyStruct = Schema.Struct({
  x: Schema.Number,
  y: Schema.Number
})

export const shouldNotTrigger = identity(Schema.decodeEffect(MyStruct)({ x: 42, y: 42 }))

export const shouldTriggerBecauseHas2 = Schema.decodeEffect(MyStruct)({ x: 42, y: 42 }).pipe(identity, identity)

export const shouldNotTriggerFunctionReturned = pipe(
  Schedule.exponential(Duration.millis(10), 4),
  Schedule.while(_ => Effect.succeed(Duration.isLessThanOrEqualTo(Duration.seconds(10))(_.duration))) // should not report
)

export const shouldNotTriggerInnerPipe = Effect.log("Hello").pipe(
  Effect.ensuring(Effect.log("World"))
)
