// code fix multipleEffectProvide_fix  output for range 880 - 914
import { ServiceMap, Effect, Layer } from "effect"

class MyService1 extends ServiceMap.Service<MyService1>()("MyService1", {
  make: Effect.succeed({ value: 1 })
}) {
  static Default = Layer.effect(this, this.make)
}

class MyService2 extends ServiceMap.Service<MyService2>()("MyService2", {
  make: Effect.succeed({ value: 2 })
}) {
  static Default = Layer.effect(this, this.make)
}

class MyService3 extends ServiceMap.Service<MyService3>()("MyService3", {
  make: Effect.succeed({ value: 3 })
}) {
  static Default = Layer.effect(this, this.make)
}

// Effect.fn with regular (non-generator) function and multiple provide calls
export const shouldReportEffectFnRegular = Effect.fn(
  () => Effect.void,
  Effect.provide(MyService1.Default),
  Effect.provide(MyService2.Default)
)

export const shouldReportEffectFnRegularTraced = Effect.fn("traced")(
  () => Effect.void,
  Effect.provide(Layer.mergeAll(MyService1.Default, MyService2.Default))
)

export const shouldReportThreeProvidesRegular = Effect.fn(
  () => Effect.void,
  Effect.provide(MyService1.Default),
  Effect.provide(MyService2.Default),
  Effect.provide(MyService3.Default)
)
